
| 定位器 Locator | 方法                    | By.        | 描述                          | 特点                   |
| -------------- | ----------------------- | ---------- | ----------------------------- | ---------------------- |
| `xpath`        | `find_element_by_xpath` | `By.XPATH` | 定位与 XPath 表达式匹配的元素 | 绝对/相对xpath（路径） |
|                |                         |            |                               |                        |
|                |                         |            |                               |                        |

官方：XPath 是一门在 XML 文档中查找信息的语言。XPath 用于在 XML 文档中通过元素和属性进行导航

【XPath 使用路径表达式来选取 XML 文档中的节点或者节点集】

Xpath 这种定位方式， webdriver会将整个页面的所有元素进行扫描以定位我们所需要的元素， 这是个非常费时的操作，  如果脚本中大量使用xpath做元素定位的话， 脚本的执行速度可能会稍慢

## Xpath在UI自动化中的应用场景
* 在Web UI自动化中，其实用Xpath的定位元素的优先级并不高，但它是万能的；所以如果用其他方式无法定位时，可以用Xpath进行定位
* 在App UI自动化中，Xpath是唯一可以定位元素的方式

## Xpath常见的表达式
| 表达式   | 等价于CSS        | 描述                                                                                                       |
| -------- | ---------------- | ---------------------------------------------------------------------------------------------------------- |
| nodename | 标签             | 选取此节点的所有子节点，类似 css 中的标签选择器                                                            |
| /        | >                | 从根节点选取，也就是当前节点的最顶层（默认情况下当前节点是 html 最顶层，若从某元素开始，当前节点为此元素） |
| //       | 空格，后代选择器 | 从匹配选择的当前节点选择文档中的节点，而不考虑它们的位置                                                   |
| .        | 无               | 选取当前节点                                                                                               |
| ..       | 无               | 选取当前节点的父节点                                                                                       |
| @        | 无               | 选取属性                                                                                                   |
| *        | *                | 通配符，代表任意类型的标签                                                                                 |


## xpath:   **//元素名[限制条件]**
限制条件写法：
1. 针对元素属性：  @属性=属性值    
2. 针对元素文本内容  ： text()=文本内容
3. 没有某个属性  not(@属性)
4. /..  表示 查找元素的父元素。


### xpath:

//开头表示在任意位置进行查找。
/在表达式中间，表示基于前面的元素查找子元素。

A/parent::li[@class='multi-chosen']  
基于A元素，查找父亲，父亲的条件是  li[@class='multi-chosen'] 

/following-sibling::定位表达式     查找弟弟元素
/preceding-sibling::定位表达式		查找哥哥元素

//元素名[限制条件]
限制条件：@属性='属性值'
//a[@data-city='全国']


多个限制条件： 通过 and 连接多个条件
//a[@data-id='749' and @class='hot-city-name']

通过元素文本内容完成定位：
//a[text()='3年及以下                            ']

包含条件：  比如 文本内容包含  3年及以下
//a[contains(text(),'3年及以下')]

层级关系表达： 找出 在元素 //li[@class='multi-chosen']中的//a[contains(text(),'移动互联网')]

轴定位表达式：通过一个已经定位到的元素的层级关系查找其它元素
//span[text()='行业领域：']/parent::li[@class='multi-chosen']/a[contains(text(),'移动互联网')]

表示序号： 直接在中括号里填数字 //ul[@class='item_con_list' and @style ]/li[15] 



## Xpath定位方式的简单栗子
### 绝对路径定位
作用：从顶层 html 开始往下找，像文件夹一样写的完整路径；它是以 / 开头的，如： /html/body/div/ul/li 

缺点：一旦页面结构发生改变，路径也随之失效，必须重新定位。 所以不推荐使用绝对路径的写法
 

### 相对路径定位
作用：相对路径  以"//" 开头， 让xpath 从文档的任何元素节点开始解析（也就是说每个节点都作为起点找一下）

和绝对路径的区别：绝对路径  以 "/"  开头，让xpath 从文档的根节点开始解析

 

### 索引定位
跟Python的列表一样，通过[ 1 ]下标去找，注意！它是从1开始的

如： //input[2] ，表示任意节点下的第二个 input 标签







## ref
* [Selenium系列（十三） - 自动化必备知识之Xpath的详细使用 ](https://www.cnblogs.com/poloyy/p/12626196.html)
* []()
* []()
* []()
* []()
* []()
* []()
