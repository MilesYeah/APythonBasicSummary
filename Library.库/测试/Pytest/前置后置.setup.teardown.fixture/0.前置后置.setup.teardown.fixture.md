# 前置后置.setup.teardown.fixture

pytest 中的 `setup` 和 `teardown` ：一般可以通过一个配置文件直接进行管理，这个配置文件的名称只能是 `conftest.py` .

fixture 是 pytest 中的一大利器。


在class 中前置后置的执行顺序
1. setup_class
2. setup_method
3. setup
4. teardown
5. teardown_method
6. teardown_class


contest.py
```py
import pytest


@pytest.fixture()
def fixt_miles():
    print("fixture miles")

```

tSetupTeardown.py
```py
import pytest


def setup_module():
    print("setup_module")


def teardown_module():
    print("teardown_module")


def setup_function():
    print("setup_function")


def teardown_function():
    print("teardown_function")


def test_f1():
    print("\ntest f1")


def test_f2(fixt_miles):
    print("\ntest f2")


class TestClass():

    def setup(self):
        print("class setup")

    def teardown(self):
        print("class teardown")

    def setup_class(self):
        print("class setup_class")

    def teardown_class(self):
        print("class teardown_class")

    def setup_method(self):
        print("class setup_method")

    def teardown_method(self):
        print("class teardown_method")

    def test_c1(self):
        print("\ntest c1")

    def test_c2(self, fixt_miles):
        print("\ntest c2")


if __name__ == "__main__":
    pytest.main(['-sv', 'rA', '-q'])

```

```sh
C:\Users\robert.ye\Envs\trials\Scripts\python.exe "C:\Program Files\JetBrains\PyCharm Community Edition 2020.2\plugins\python-ce\helpers\pycharm\_jb_pytest_runner.py" --path F:/Development/Trials/tPytest1/tAPIs/tSetupTeardown.py
Testing started at 11:32 ...
Launching pytest with arguments F:/Development/Trials/tPytest1/tAPIs/tSetupTeardown.py --no-header --no-summary -q in F:\Development\Trials\tPytest1\tAPIs

============================= test session starts =============================
collecting ... collected 4 items

tSetupTeardown.py::test_f1 setup_module
setup_function
PASSED                                        [ 25%]
test f1
teardown_function

tSetupTeardown.py::test_f2 setup_function
fixture miles
PASSED                                        [ 50%]
test f2
teardown_function

tSetupTeardown.py::TestClass::test_c1 
tSetupTeardown.py::TestClass::test_c2 

============================== 4 passed in 0.17s ==============================

Process finished with exit code 0
class setup_class
class setup_method
class setup
PASSED                             [ 75%]
test c1
class teardown
class teardown_method
class setup_method
fixture miles
class setup
PASSED                             [100%]
test c2
class teardown
class teardown_method
class teardown_class
teardown_module

```

