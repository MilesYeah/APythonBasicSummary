# JsonPath.CheatSheet


| XPath | JSONPath                  | Description                                                                        |
| ----- | ------------------------- | ---------------------------------------------------------------------------------- |
| `/`   | `$`                       | 根节点  查询的根节点对象，用于表示一个json数据，可以是数组或对象                   |
| `.`   | `@`                       | 现行节点, 过滤器断言（filter predicate）处理的当前节点对象，类似于java中的this字段 |
| `/`   | `.` or `[]`               | 取子节点  用于连接父子节点                                                         |
| `..`  | `NA`                      | 取父节点，Jsonpath未支持                                                           |
| `//`  | `..`                      | 不管位置，可以理解为递归搜索，深层扫描，用于获取当前节点下的所有指定对象。         |
| `*`   | `*`                       | 通配符，匹配所有元素节点, 可以表示一个名字或数字                                   |
| `@`   | `NA`                      | 根据属性访问，Json不支持，因为Json是个Key-value递归结构，不需要。                  |
| `[]`  | `[]`                      | 迭代器标示，可以在里边做简单的迭代操作，如数组下标，根据内容选值等               |
| `|`   | `[,]`                     | 支持迭代器中做多选。                                                               |
| `NA`  | `[start:end:step]`        | 数组切片操作，区间为[start,end),不包含end                                          |
| `[]`  | `?()`                     | 支持过滤操作                                                                       |
| `NA`  | `()`                      | 支持表达式计算                                                                     |
| `()`  | `NA`                      | 分组，JsonPath不支持                                                               |
|       |                           |                                                                                    |
|       | `.<name>`                 | 表示一个子节点, Dot-notated方式，获取子节点。                                      |
|       | `['<name>' (, '<name>')]` | 表示一个或多个子节点, Bracket-notated,获取一个或者多个子节点。                     |
|       | `[<number> (, <number>)]` | 表示一个或多个数组下标, 数组索引，如果有多个用逗号分隔。                           |
|       | `[?(<expression>)]`       | 过滤器表达式，表达式结果必须是boolean                                              |
|       |                           |                                                                                    |


| XPath                  | JsonPath                                | 结果                                                             |
| ---------------------- | --------------------------------------- | ---------------------------------------------------------------- |
| `/store/book/author`   | `$.store.book[*].author`                | 获取json中store下book下的所有author值                            |
| `//author`             | `$..author`                             | 获取所有json中所有author的值                                     |
| `/store/*`             | `$.store.*`                             | 所有的东西，书籍和自行车                                         |
| `/store//price`        | `$.store..price`                        | 获取json中store下所有price的值                                   |
| `//book[3]`            | `$..book[2]`                            | 获取json中book数组的第3个值                                      |
|                        | `$..book[-2]`                           | 倒数的第二本书                                                   |
| `//book[position()<3]` | `$..book[0,1]`                          | 前两本书                                                         |
|                        | `$..book[:2]`                           | 从索引0（包括）到索引2（排除）的所有图书                         |
|                        | `$..book[1:2]`                          | 从索引1（包括）到索引2（排除）的所有图书                         |
|                        | `$..book[-2:]`                          | 获取json中book数组的最后两个值                                   |
|                        | `$..book[2:]`                           | 获取json中book数组的第3个到最后一个的区间值                      |
| `//book[isbn]`         | `$..book[?(@.isbn)]`                    | 获取json中book数组中包含isbn的所有值                             |
|                        | `$.store.book[?(@.price < 10)]`         | 获取json中book数组中price<10的所有值                             |
|                        | `$..book[?(@.price <= $['expensive'])]` | 获取json中book数组中price<=expensive的所有值                     |
|                        | `$..book[?(@.author =~ /.*REES/i)]`     | 获取json中book数组中的作者以REES结尾的所有值（REES不区分大小写） |
| `//*`                  | `$..*`                                  | 逐层列出json中的所有值，层级由外到内                             |
|                        | `$..book.length()`                      | 获取json中book数组的长度                                         |
|                        |                                         |                                                                  |
|                        |                                         |                                                                  |
|                        |                                         |                                                                  |


| 操作符     | 描述                                                   |
| ---------- | ------------------------------------------------------ |
| `==`       | 等于符号，但数字1不等于字符1                           |
| `!=`       | 不等于符号                                             |
| `<`        | 小于符号                                               |
| `<=`       | 小于等于符号                                           |
| `>`        | 大于符号                                               |
| `>=`       | 大于等于符号                                           |
| `=~`       | 判断是否符合正则表达式，例如`[?(@.name =~ /foo.*?/i)]` |
| `in`       | 所属符号，例如`[?(@.size in ['S', 'M'])]`              |
| `nin`      | 排除符号                                               |
| `size`     | size of left (array or string) should match right      |
| `empty`    | 判空符号                                               |
|            |                                                        |
| `subsetof` | 表示某一个节点（值为数组）是指定数组的子集。           |
|            |                                                        |
| `||`       | 或者                                                   |
| `&&`       | 并且                                                   |
|            |                                                        |
|            |                                                        |


| 名称       | 描述                     | 输出    |
| ---------- | ------------------------ | ------- |
| `min()`    | 获取数值类型数组的最小值 | Double  |
| `max()`    | 获取数值类型数组的最大值 | Double  |
| `avg()`    | 获取数值类型数组的平均值 | Double  |
| `stddev()` | 获取数值类型数组的标准差 | Double  |
| `length()` | 获取数值类型数组的长度   | Integer |
|            |                          |         |
|            |                          |         |
|            |                          |         |
