# 网络元素

WebElement表示DOM元素. 可以通过使用WebDriver实例从文档根节点进行搜索, 或者在另一个WebElement下进行搜索来找到WebElement.

WebDriver API提供了内置方法来查找基于不同属性的WebElement (例如ID, Name, Class, XPath, CSS选择器, 链接文本等).


## Find Element
此方法用于查找元素并返回第一个匹配的单个WebElement引用, 该元素可用于进一步的元素操作.

```py
from selenium import webdriver
from selenium.webdriver.common.by import By

driver = webdriver.Firefox()

driver.get("http://www.google.com")

# Get search box element from webElement 'q' using Find Element
search_box = driver.find_element(By.NAME, "q")

search_box.send_keys("webdriver")
```



### find_element_by_class_name
```py 
e_class = el_nav.find_element_by_class_name("nav_center_wrap")
```
### find_element_by_css_selector
由于 css 太复杂，不是很推荐这种办法。

```py
driver.get('https://www.csdn.net/')

e_css = driver.find_element_by_css_selector("#floor-nav_62 > div > div")
# 闪烁效果
driver.execute_script('$(arguments[0]).fadeOut().fadeIn()', e_css)
sleep(1)

el = driver.find_element_by_css_selector('.index_nav')
# 闪烁效果
driver.execute_script('$(arguments[0]).fadeOut().fadeIn()', el)

time.sleep(1)
driver.quit()
```


### find_element_by_id
```py
driver.get('https://www.csdn.net/')

e_id = driver.find_element_by_id('elevator')

time.sleep(1)
driver.quit()
```
### find_element_by_link_text
```py
driver.get('https://www.csdn.net/')

e_text = el_nav.find_element_by_link_text("Python")

time.sleep(1)
driver.quit()
```
### find_element_by_name
```py
driver.get('https://www.csdn.net/')

e_name = driver.find_element_by_name("keywords")

time.sleep(1)
driver.quit()
```
### find_element_by_partial_link_text
```py
driver.get('https://www.csdn.net/')

e_text_partial = el_nav.find_element_by_partial_link_text("Py")

time.sleep(1)
driver.quit()
```
### find_element_by_tag_name
```py
driver.get('https://www.csdn.net/')

e_tag = el_nav.find_element_by_tag_name('a')

time.sleep(1)
driver.quit()
```

### find_element_by_xpath

```py
driver.get('https://www.csdn.net/')

e_xpath = driver.find_element_by_xpath('//*[@class="index_nav_left"]')
driver.execute_script('$(arguments[0]).fadeOut().fadeIn()', e_xpath)
sleep(1)

e_xpath = driver.find_element_by_xpath('//*[@class="nav_center_wrap"]')
driver.execute_script('$(arguments[0]).fadeOut().fadeIn()', e_xpath)
sleep(1)

time.sleep(1)
driver.quit()
```





## Find Elements
与"Find Element"相似, 但返回的是匹配WebElement列表. 要使用列表中的特定WebElement, 您需要遍历元素列表以对选定元素执行操作.

```py
from selenium import webdriver
from selenium.webdriver.common.by import By

driver = webdriver.Firefox()

# Navigate to Url
driver.get("https://www.example.com")

# Get all the elements available with tag name 'p'
elements = driver.find_elements(By.TAG_NAME, 'p')

for e in elements:
    print(e.text)
  
```


## Find Element From Element
```py
from selenium import webdriver
from selenium.webdriver.common.by import By

driver = webdriver.Firefox()
driver.get("http://www.google.com")
search_form = driver.find_element(By.TAG_NAME, "form")
search_box = search_form.find_element(By.NAME, "q")
search_box.send_keys("webdriver")
```


## Find Elements From Element
此方法用于在父元素的上下文中查找匹配子WebElement的列表. 为此, 父WebElement与"findElements"链接并访问子元素.

```py
from selenium import webdriver
from selenium.webdriver.common.by import By

driver = webdriver.Chrome()
driver.get("https://www.example.com")

# Get element with tag name 'div'
element = driver.find_element(By.TAG_NAME, 'div')

# Get all the elements available with tag name 'p'
elements = element.find_elements(By.TAG_NAME, 'p')
for e in elements:
    print(e.text)
```


## Get Active Element
此方法用于追溯或查找当前页面上下文中具有焦点的DOM元素.

```py
from selenium import webdriver
from selenium.webdriver.common.by import By

driver = webdriver.Chrome()
driver.get("https://www.google.com")
driver.find_element(By.CSS_SELECTOR, '[name="q"]').send_keys("webElement")

# Get attribute of current active element
attr = driver.switch_to.active_element.get_attribute("title")
print(attr)
```



## Is Element Enabled
此方法用于检查网页上连接的元素是否被启用或禁用. 返回一个布尔值, 如果在当前浏览上下文中启用了连接的元素, 则返回True； 否则返回false .


```py
# Navigate to url
driver.get("http://www.google.com")
   
# Returns true if element is enabled else returns false
value = driver.find_element(By.NAME, 'btnK').is_enabled()
```




## Is Element Selected
此方法确定是否 已选择 引用的元素. 此方法广泛用于复选框, 单选按钮, 输入元素和选项元素.

返回一个布尔值, 如果在当前浏览上下文中 已选择 引用的元素, 则返回 True, 否则返回 False.

```py
# Navigate to url
driver.get("https://the-internet.herokuapp.com/checkboxes")

# Returns true if element is checked else returns false
value = driver.find_element(By.CSS_SELECTOR, "input[type='checkbox']:first-of-type").is_selected()
```



## Get Element TagName
此方法用于获取在当前浏览上下文中 具有焦点的被引用元素的 TagName .

```py
# Navigate to url
driver.get("https://www.example.com")

# Returns TagName of the element
attr = driver.find_element(By.CSS_SELECTOR, "h1").tag_name
```


## Get Element Rect
用于获取参考元素的尺寸和坐标.

提取的数据主体包含以下详细信息:
* 元素左上角的X轴位置
* 元素左上角的y轴位置
* 元素的高度
* 元素宽度


```py
# Navigate to url
driver.get("https://www.example.com")
    
# Returns height, width, x and y coordinates referenced element
res = driver.find_element(By.CSS_SELECTOR, "h1").rect
```


## 获取元素CSS值
获取当前浏览上下文中元素的特定计算样式属性的值.


```py
# Navigate to Url
driver.get('https://www.example.com')

# Retrieves the computed style property 'color' of linktext
cssValue = driver.findElement(By.LINK_TEXT, "More information...").value_of_css_property('color')
```



## 获取元素文本
获取特定元素渲染后的文本.

```py
# Navigate to url
driver.get("https://www.example.com")

# Retrieves the text of the element
text = driver.find_element(By.CSS_SELECTOR, "h1").text
```







